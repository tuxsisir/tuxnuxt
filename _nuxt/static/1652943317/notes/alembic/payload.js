__NUXT_JSONP__("/notes/alembic", (function(a,b,c,d,e,f,g,h,i,j){return {data:[{post:{slug:"alembic",title:"Alembic Commands",date:"2020-06-18T00:00:00.000Z",draft:false,tags:["python","database"],toc:[{id:h,depth:3,text:i}],body:{type:"root",children:[{type:b,tag:"h3",props:{id:h},children:[{type:b,tag:"a",props:{ariaHidden:"true",href:"#commands",tabIndex:-1},children:[{type:b,tag:"span",props:{className:["icon","icon-link"]},children:[]}]},{type:a,value:i}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ alembic init alembic"}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"creates the migration folder\n"},{type:b,tag:e,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"env.py (for path configuration)"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"script.mako (the script itself)"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"versions\u002F (where the migrations scripts are located)"}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ alembic revision -m 'base-revision'"}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"creates the base empty revision"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"** Renamed the revision ID to that of jupyterhub (which already resides in the DB) No luck other than that. **"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ alembic current"}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"checks where the current head is at (now everything is fine)"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Use same Base while writing the models. i.e. from Jupyterhub orm\n"},{type:b,tag:e,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Stating different Base leads to missing foreign key"}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ alembic revision --autogenerate -m \"create spawner log\""}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"create new spawner log migration"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ alembic upgrade head"}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"to migrate the migrations from versions\u002F"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"-- Up to date migrations --"}]}]},dir:"\u002Fnotes",path:"\u002Fnotes\u002Falembic",extension:".md",createdAt:j,updatedAt:j},prev:{slug:"agile-and-project-mgmt",title:"Agile and Project Management Glossary"},next:{slug:"amethyst",title:"Amethyst Workflow"}}],fetch:{},mutations:void 0}}("text","element","\n","li","ul","p","code","commands","Commands","2022-05-19T06:54:17.477Z")));